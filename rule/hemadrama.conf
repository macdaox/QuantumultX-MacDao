# 河马短剧去广告重写规则
# 使用方法：将此文件作为远程资源引用到QuantumultX

# 河马短剧广告屏蔽规则
^https?://.*\.hemadrama\.com/.*ad.*$ url reject
^https?://api\.hemadrama\.com/.*advertisement.*$ url reject
^https?://.*\.hemadrama\.com/.*banner.*$ url reject
^https?://.*\.hemadrama\.com/.*promotion.*$ url reject
^https?://.*\.hemadrama\.com/.*sponsor.*$ url reject
^https?://.*\.hemadrama\.com/.*popup.*$ url reject
^https?://.*\.hemadrama\.com/.*splash.*$ url reject
^https?://.*\.hemadrama\.com/.*startup.*$ url reject
^https?://.*\.hemadrama\.com/.*feed/ad.*$ url reject
^https?://.*\.hemadrama\.com/.*video/ad.*$ url reject
^https?://.*\.hemadrama\.com/.*player/ad.*$ url reject

# 河马短剧广告内容替换
^https?://.*\.hemadrama\.com/.*$ url response-body "advertisement":\s*\{[^}]*\} response-body "advertisement":{}
^https?://.*\.hemadrama\.com/.*$ url response-body "ads":\s*\[[^\]]*\] response-body "ads":[]
^https?://.*\.hemadrama\.com/.*$ url response-body "banner":\s*\{[^}]*\} response-body "banner":{}
^https?://.*\.hemadrama\.com/.*$ url response-body "promotion":\s*\{[^}]*\} response-body "promotion":{}
^https?://.*\.hemadrama\.com/.*$ url response-body "popup":\s*\{[^}]*\} response-body "popup":{}
^https?://.*\.hemadrama\.com/.*$ url response-body "splash":\s*\{[^}]*\} response-body "splash":{}

# 河马短剧HTML广告标签移除
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*class="[^"]*splash[^"]*"[^>]*>.*?</div> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*id="[^"]*splash[^"]*"[^>]*>.*?</div> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*class="[^"]*banner[^"]*"[^>]*>.*?</div> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*id="[^"]*banner[^"]*"[^>]*>.*?</div> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*class="[^"]*popup[^"]*"[^>]*>.*?</div> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*id="[^"]*popup[^"]*"[^>]*>.*?</div> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*class="[^"]*video-ad[^"]*"[^>]*>.*?</div> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*id="[^"]*video-ad[^"]*"[^>]*>.*?</div> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*class="[^"]*advertisement[^"]*"[^>]*>.*?</div> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*class="[^"]*promotion[^"]*"[^>]*>.*?</div> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <div[^>]*class="[^"]*sponsor[^"]*"[^>]*>.*?</div> response-body ""

# 河马短剧广告脚本移除
^https?://.*\.hemadrama\.com/.*$ url response-body <script[^>]*src="[^"]*ad[^"]*"[^>]*>.*?</script> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <script[^>]*>.*?advertisement.*?</script> response-body ""
^https?://.*\.hemadrama\.com/.*$ url response-body <script[^>]*>.*?banner.*?</script> response-body ""